### Linux 用户和用户组管理
	
UID 和 GID (用户ID 和 组ID)

/etc/passwd
		系统用户配置文件，存储系统所有用户的基本信息，所有用户有读操作
		表达的含义： 
		用户名： 密码：UID(用户ID) ：GID(组ID) ：描述性信息 ： 主目录 ： 默认Shell

			用户名： 代表用户身份的字符串
			密 码 ：x 表示此用户设有密码， 真正的密码保存在 /etc/shadow 文件中
			UID ： 用户ID，识别不同的用户 0~65535
			0 ： 超级用户 
			1 ~ 499 ： 系统用户
			500 ~ 65535 ： 普通用户
			GID ： Group ID ，组ID 
			初始组： 如：建立用户lamp的同时，建立 lamp组作为lamp用户的初始组
			附加组： 指用户可以加入多个其他的用户组，并拥有这些组的权限
			描述性信息： 
			主目录： 用户登陆后有操作权限的访问目录，用户的主目录
			默认的Shell：Linux的解释器，用户和Linux内核沟通的桥梁，默认 bash /bin/bash

/etc/shadow (影子文件)	
		用户名：加密密码：最后一次修改时间：最小修改时间间隔：密码有效期：密码需要变更前的警告天数：密码过期后的款期时间：账号失效时间：保留字段

	忘记密码：
		1.重启进入单用户模式， 系统会提供root权限的bash 接口，用 passwd命令修改账号密码；
		2.通过挂载根目录，修改 /etc/shadow，将账户的root密码清空
	
/etc/group 
	用户组配置文件，用户组的所有信息存放在此文件中
		组名：密码：GID：该用户组中的用户列表

/etc/gshadow 
	组名：加密密码：组管理员：组附加用户列表
	

初始组和附加组
	添加新用户： useradd user
	添加新群组： groupadd group
	将用户xxx加入到xxx群组： usermod -G group user
	查找： grep 'user' /etc/passwd /etc/group /etc/gshadow

	一个用户可以所属多个附加组，但只能有一个初始组
	查看用户所属全部群组:
		gourps
		
/etc/login.defs :创建用户的默认设置文件
	
useradd ： 添加新的系统用户
	useradd 选项 用户名
		-u UID : 手工指定用户的UID，UID 不要小于500
		-d 主目录 ： 手工指定用户的主目录，必须是绝对路径，注意权限
		-c 用户说明 ： 手工指定 /etc/passwd 文件中各用户信息中第5哥字段的描述性内容，可随意配置
		-g 组名 ： 手工指定用户的初始组
		-G 组名 ： 指定用户的附加组
		-s shell ：手工指定用户的登录 Shell ，默认是 /bin/bash
		-e 日期 ： 指定用户的失效日期 格式为 "YYYY-MM-DD" /etc/shadow 文件的第八个字段
		-o ： 允许创建的用户的UID 相同，例如：useradd -u 0 -o usertest
		-m ： 建立用户时强制建立用户的家目录
		-r ： 创建系统用户 UID 在 1 ~ 499 

/etc/default/useradd 文件

passwd ：修改用户密码
	passwd 选项 用户名
		-S ：查询用户密码的状态 = /etc/shadow 
		-l ：暂时锁定用户
		-u ：解锁用户
		--stdin ：通过管道符输出的数据作为用户的密码，主要用于批量添加用户
		-n ： 天数 不能修改密码期限 /etc/shadow 第4个字段
		-x ： 天数，设置密码有效期				第5个字段
		-w ： 天数 用户密码过期的警告天数		第6个字段
		-i ： 日期，用户密码失效日期			第7个字段

usermod ： 修改用户信息
	usermod 选项 用户名
		-c ： 用户说明：修改用户的说明信息 修改 /etc/paswd 文件目标用户信息的第5个字段
		-d ： 主目录： 修改用户的主目录		6
		-e ： 日期：修改用户的失效日期		8
		-g ： 组名：修改用户的初始组		4
		-u ： UID： 修改用户的UID			3
		-G ： 组名：修改用户的附加组，把用户加入其他用户组
		-l ： 修改用户名称
		-L ： 临时锁定用户
		-U ： 解锁用户
		-s ： shell： 修改用户的登录Shell

chage ： 修改用户密码状态
	chage	选项	用户名
		-l ： 列出用户的详细密码状态
		-d ： 日期   /etc/shadow 第3个字段
		-m ： 天数 修改密码最短保留天数  第4个字段
		-M ： 天数 修改密码的有效期  第5个字段
		-W ： 天数 修改密码过期前的警告天数 第6个字段
		-i ： 天数 修改密码过期后的宽限天数 第7个字段
		-E ： 日期 修改账号失效日期 第8个字段

userdel : 删除用户
	userdel -r 用户名
		-r : 在删除用户的同时删除用户的家目录

id ： 查看用户的UID 和GID
	id 用户名

su ： 用户间切换
	su	选项	用户名
		- ： 当前用户不仅切换为指定用户的身份，刚工作环境也切换为此用户的环境包括 PATH变量、MAIL变量等，可省略用户名，默认为root
		-l ： 同-，但后面需要添加欲切换的使用者账号
		-p ： 切换为指定用户的身份，但不改变当前的工作环境
		-m ： 同 -p 
		-c ： 仅切换用户执行一次命令，执行后自动切换回来
	su 和 su - 的区别
		工作环境
	
groupadd ： 添加用户组
	groupadd 选项 用户
		-g GID ： 指定组ID
		-r ： 创建系统群组

groupmod ： 修改用户组
	groupmod	选项	用户名
		-g GID ： 修改组ID
		-n 新组名 ： 修改组名

groupdel ： 删除用户组
	groupdel	组名
	
gpasswd ： 把用户添加进组或从组中删除
	gpasswd		选项	组名
				： 选项为空时，给群组设置密码，仅root用户可用
		- A user1,... ： 将群组控制权交给 user1，... 等用户管理， 是将 user1，等用户为群组的管理员，仅root用户可用
		-M user1，... ：将user1等加入到群组中，仅root可用
		-r ： 移除群组的密码，仅root可用
		-R ： 让群组的密码失效，仅root可用
		-a user ： 将user 用户加入到群组中
		-d user ： 将user 用户从群组中移除

newgrp ： 切换用户的有效组
	newgrp	组名
		


